<nav class="navbar navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<ul class="nav navbar-nav">
				<RouterLink to="/" location={{currentPath}} class="active" li>
					<span class="glyphicon glyphicon-home"></span> Basic todo app!
				</RouterLink>
				<RouterLink to="/app/about" location={{currentPath}} li>
					<span class="glyphicon glyphicon-education"></span> About the Svelte
				</RouterLink>
				<RouterLink to="" location={{currentPath}} on:logout="fire('logout', event)" li>
					<span class="glyphicon glyphicon-th-list"></span> Log out
				</RouterLink> 
			</ul>
		</div>
		<div class="nav navbar-right">
			<p class="navbar-text">
				Logged in as {{currentUser.name}}
			</p>
		</div>
	</div>
</nav>

<uiView></uiView>

<script>
    import RouterLink from '../components/router-link.html';
    import roadtrip from 'roadtrip';

    export default {
        data () {
			return {
				currentPath: '',
				currentUser: {},
			}
		},
        components: {
            RouterLink
        },
        oncreate () {
            roadtrip.routing.events.on('enter', routeData => {                
                const path = routeData ? routeData.pathname : '';
                this.set({currentPath: path});
                console.log('App : roadtrip.routing.notify', routeData, path);
            });
		}, 
    }
</script>