<nav class="navbar navbar-default" ref:container>
	<div class="container-fluid">
		<div class="navbar-header">
			<ul class="nav navbar-nav">
				<RouterLink to="/app/topics" location={$currentPath} class="active" li>
					<span class="glyphicon glyphicon-home"></span> Basic todo app!
				</RouterLink>
				<RouterLink to="/app/about" location={$currentPath} li>
					<span class="glyphicon glyphicon-education"></span> About the Svelte
				</RouterLink>
				<RouterLink to="" location={$currentPath} on:logout="fire('logout', event)" li>
					<span class="glyphicon glyphicon-th-list"></span> Log out
				</RouterLink> 
			</ul>
		</div>
		<div class="nav navbar-right">
			<p class="navbar-text">
				Logged in as {currentUser.name}
			</p>
		</div>
	</div>
</nav>

<svelte:component this="{uiView}" name="uiView"/>

<script type="text/javascript">
	import RouterLink from '../components/router-link.html';

    export default {
        data () {
			return {
				// currentPath: '',
				currentUser: {},
				uiView: null,
			}
		},
		oncreate() {
			this.set(this.store.get().routeData);
			this.constructor.component = this;
		},
        components: {
            RouterLink
        },
    }
</script>