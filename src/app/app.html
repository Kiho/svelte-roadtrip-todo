<nav class="navbar navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<ul class="nav navbar-nav">
				<li>
					<RouterLink to="/" location={{currentPath}} class="router-link-exact-active router-link-active">
						<span class="glyphicon glyphicon-home"></span> Basic todo app!
					</RouterLink>    
				</li>
				<li>
					<RouterLink to="/app/about" location={{currentPath}} >
						<span class="glyphicon glyphicon-education"></span> About the Svelte
					</RouterLink>     
				</li>
				<li>
					<RouterLink to="" location={{currentPath}} on:logout="fire('logout', event)">
						<span class="glyphicon glyphicon-th-list"></span> Log out
					</RouterLink> 
				</li>
			</ul>
		</div>
		<div class="nav navbar-right">
			<p class="navbar-text">
				Logged in as {{currentUser.name}}
			</p>
		</div>
	</div>
</nav>

<uiView></uiView>

<script>
    import RouterLink from '../components/router-link.html';
    import roadtrip from 'roadtrip';

    export default {
        data () {
			return {
				currentPath: '',
				currentUser: {},
			}
		},
        components: {
            RouterLink
        },
        oncreate () {
            roadtrip.Routing.notify = routeData => {                
                const path = routeData ? routeData.pathname : '';
                this.set({currentPath: '/' + path});
                console.log('App : routeData', routeData, path);
            };
      },
    }
</script>